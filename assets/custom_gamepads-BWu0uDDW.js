import{G as P,a as w,d as x,g as c,e,f as R,c as p,P as y,C as D,h as S}from"./GamepadEmulator-CNWoeGf3.js";import{G as k}from"./GamepadDisplay-3X_eRe0j.js";import{L as v,R as C}from"./display-gamepad-right-DqjVesqr.js";const _=new P(.1),m=new w({updateDelay:0,axisDeadZone:.05,buttonConfigs:[]}),f=0;_.AddEmulatedGamepad(f,!0,22,6);m.onGamepadConnect(i=>{console.log("Gamepad connected: ",i)});m.onGamepadDisconnect(i=>{console.log("Gamepad disconnected: ",i)});const T=()=>{const i=document.getElementById("split_gpad_display_container"),s=document.getElementById("gpad_display_html");document.getElementById("gpad_display_left").innerHTML=v,document.getElementById("gpad_display_right").innerHTML=C,A(f),q(f),E(f),G(f),m.onGamepadButtonChange((n,r,t)=>{console.log(`Gamepad ${n} button change: `,t)}),m.onGamepadAxisChange((n,r,t)=>{console.log(`Gamepad ${n} axis change: `,r.axes,t)});function A(n){_.AddButtonTouchEventListeners(n,x.map((r,t)=>{const g=r.includes("trigger"),o=r.includes("stick");return g?{buttonIndex:t,type:c.variable,tapTarget:i.querySelector("#"+r),dragDistance:50,lockTargetWhilePressed:!0,directions:{[e.up]:!1,[e.down]:!0,[e.left]:!1,[e.right]:!1}}:{buttonIndex:t,type:c.onOff,lockTargetWhilePressed:o===!0,tapTarget:i.querySelector("#"+r)}}).concat(Object.entries(R).map(([r,t])=>({buttonIndexes:t,type:c.onOff,tapTarget:i.querySelector("#"+r),lockTargetWhilePressed:!1})))),_.AddJoystickTouchEventListeners(n,[{tapTarget:i.querySelector("#"+x[p.LStick]),dragDistance:30,xAxisIndex:0,yAxisIndex:1,lockTargetWhilePressed:!0,directions:{[e.up]:!0,[e.down]:!0,[e.left]:!0,[e.right]:!0}},{tapTarget:i.querySelector("#"+x[p.RStick]),dragDistance:30,xAxisIndex:2,yAxisIndex:3,lockTargetWhilePressed:!0,directions:{[e.up]:!0,[e.down]:!0,[e.left]:!0,[e.right]:!0}}])}function E(n){const r=document.querySelector(`#${y[p.LStick]}`),t=document.querySelector(`#${y[p.RStick]}`);D(r),D(t);const g=y.map(a=>a.includes("trigger")?{type:c.variable,direction:e.down,buttonElement:i.querySelector(`#${a}`),highlight:i.querySelector(`#${a} .${S.ButtonHighlight}`),directionHighlight:i.querySelector(`#${a} .${S.DirectionHighlight}`),movementRange:10,extraData:{myCustomData:"variable btn name is "+a}}:{type:c.onOff,highlight:i.querySelector(`#${a} .${S.ButtonHighlight}`),extraData:{myCustomData:"onOff btn name is "+a}}),o=[{joystickElement:i.querySelector(`#${y[p.LStick]}`),xAxisIndex:0,yAxisIndex:1,movementRange:10,extraData:{directionHighlightArrows:{[e.up]:i.querySelector("#l_stick_up_direction_highlight"),[e.down]:i.querySelector("#l_stick_down_direction_highlight"),[e.left]:i.querySelector("#l_stick_left_direction_highlight"),[e.right]:i.querySelector("#l_stick_right_direction_highlight")}}},{joystickElement:i.querySelector(`#${y[p.RStick]}`),xAxisIndex:2,yAxisIndex:3,movementRange:10,extraData:{directionHighlightArrows:{[e.up]:i.querySelector("#r_stick_up_direction_highlight"),[e.down]:i.querySelector("#r_stick_down_direction_highlight"),[e.left]:i.querySelector("#r_stick_left_direction_highlight"),[e.right]:i.querySelector("#r_stick_right_direction_highlight")}}}],l=new k({gamepadIndex:n,pressedHighlightClass:"pressed",touchedHighlightClass:"touched",moveDirectionHighlightClass:"moved",buttons:g,sticks:o,joystickDisplayFunction:function(a,u,h){a.joystickElement.style.transform=`rotateY(${u*30}deg) rotateX(${-h*30}deg) translateZ(17px)`;const d=a.extraData.directionHighlightArrows;d[e.up].style.opacity=Math.max(-h,0).toString(),d[e.down].style.opacity=Math.max(h,0).toString(),d[e.left].style.opacity=Math.max(-u,0).toString(),d[e.right].style.opacity=Math.max(u,0).toString()},buttonDisplayFunction:function(a,u,h,d,b,I){l.DefaultButtonDisplayFunction(a,u,h,d,b,I),a.type===c.variable&&(a.buttonElement.style.fill=`hsl(${u*360}, 100%, 50%)`)}},m)}function q(n){const r=[];for(let t=0;t<=3;t++){const g=t===1,o=t===0,l=t===2;r.push({buttonIndex:t,type:c.variable,lockTargetWhilePressed:!0,tapTarget:s.querySelector("#drag-button-"+t),dragDistance:100,directions:{[e.up]:!1,[e.down]:g,[e.left]:o,[e.right]:l}})}for(let t=3;t<=20;t++)r.push({buttonIndex:t,type:c.onOff,lockTargetWhilePressed:!1,tapTarget:s.querySelector("#button-"+t)});r.push({type:c.onOff,buttonIndex:21,tapTarget:s.querySelector("#axis-0 .gpad-custom-thumbstick"),lockTargetWhilePressed:!0}),_.AddButtonTouchEventListeners(n,r),_.AddJoystickTouchEventListeners(n,[{tapTarget:s.querySelector("#axis-0 .gpad-custom-thumbstick"),dragDistance:100,xAxisIndex:0,lockTargetWhilePressed:!0,directions:{[e.up]:!1,[e.down]:!1,[e.left]:!0,[e.right]:!0}},{tapTarget:s.querySelector("#axis-1 .gpad-custom-thumbstick"),dragDistance:200,yAxisIndex:1,lockTargetWhilePressed:!0,directions:{[e.up]:!0,[e.down]:!1,[e.left]:!1,[e.right]:!1}},{tapTarget:s.querySelector("#axis-2 .gpad-custom-thumbstick"),dragDistance:200,yAxisIndex:3,lockTargetWhilePressed:!0,directions:{[e.up]:!1,[e.down]:!0,[e.left]:!1,[e.right]:!1}},{tapTarget:s.querySelector("#axis-3 .gpad-custom-thumbstick"),dragDistance:100,xAxisIndex:2,lockTargetWhilePressed:!0,directions:{[e.up]:!1,[e.down]:!1,[e.left]:!0,[e.right]:!0}},{tapTarget:s.querySelector("#axis-4 .gpad-custom-thumbstick"),dragDistance:100,xAxisIndex:4,yAxisIndex:5,lockTargetWhilePressed:!0,directions:{[e.up]:!0,[e.down]:!0,[e.left]:!0,[e.right]:!0}}])}function G(n){const r=[];for(let o=0;o<=2;o++){let l;o==0?l=e.left:o==1?l=e.down:l=e.right,r.push({type:c.variable,direction:l,movementRange:60,buttonElement:s.querySelector("#drag-button-"+o),highlight:s.querySelector("#drag-button-"+o)})}for(let o=3;o<=20;o++)r.push({type:c.onOff,highlight:s.querySelector("#button-"+o)});r.push({type:c.onOff,highlight:s.querySelector("#axis-0 .gpad-custom-thumbstick")});const t=[{joystickElement:s.querySelector("#axis-0 .gpad-custom-thumbstick"),xAxisIndex:0,movementRange:70},{joystickElement:s.querySelector("#axis-1 .gpad-custom-thumbstick"),yAxisIndex:1,movementRange:140},{joystickElement:s.querySelector("#axis-2 .gpad-custom-thumbstick"),yAxisIndex:3,movementRange:140},{joystickElement:s.querySelector("#axis-3 .gpad-custom-thumbstick"),xAxisIndex:2,movementRange:70},{joystickElement:s.querySelector("#axis-4 .gpad-custom-thumbstick"),xAxisIndex:4,yAxisIndex:5,movementRange:70}],g=new k({gamepadIndex:n,pressedHighlightClass:"pressed",touchedHighlightClass:"touched",moveDirectionHighlightClass:"moved",buttons:r,sticks:t,buttonDisplayFunction:function(o,l,a,u,h,d){g.DefaultButtonDisplayFunction(o,l,a,u,h,d),o.type===c.variable&&(o.buttonElement.style.backgroundColor=`hsl(0, 0%, ${l*100}%)`)}},m)}};console.log("Waiting for page to load...",document.readyState);document.readyState==="complete"?T():window.addEventListener("load",T);
